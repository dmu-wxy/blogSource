---
title: 复合类型
date: 2023-08-03 23:01:58
permalink: /pages/7ac180/
categories:
  - language
  - Rust
tags:
  - 
---
## 字符串和切片

### 切片

切片的作用是允许你引用集合中部分**连续**的元素序列，而不是引用整个集合。

例如：

```rust
let s = String::from("hello world");

let hello = &s[0..5];  // 切片 [0,5)  等效于&s[..5]
let world = &s[6..11];  // 切片 [6,11) 等效于&s[6..]
// 完整的s，&s[..]
```

注意，方括号中的数字是字节，如果字符是多字节的（如汉字），这时如果切片没有落在两个字符之间，程序就会崩溃（汉字是三个字节，切片0-2就会崩溃）



字符串的切片类型是 &str，i32数组的切片类型是 &[i32]

这样一段代码：`let s = "Hello world!";`， s 是个切片类型，实际上代码为：`let s: &str = "Hello world!"`



### 字符串

Rust中字符是 Unicode 类型。内存占用 从1 - 4 个字节空间。

Rust中常用的字符串类型有 str / String，str硬编码不可变，String可变。

```rust
// &str --> String
String::from("Hello world");
"hello world".to_string();

// String --> &str
&s;
```





